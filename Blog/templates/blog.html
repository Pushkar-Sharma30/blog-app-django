<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Kaushan+Script&family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    

</head>
<style>
    @font-face {
        font-family: myFont;
        src: url(/static/Instagram\ Sans.ttf);
    }
    :root{
    --background-color: #161718;
    --text-color: black;
    }
body{
    background-color: var(--background-color);
    color: var(--text-color);
    
    transition: background-color .3s;
    /* font-family: sans-serif; */
}

.handle{
    border-radius: 50%;
    
    /* background: white; */
    transition: transform .3s;
}



.switch{
        /* padding: 0.25rem; */
        border-radius: 9999px;
        /* background-color: transparent; */
        /* border: 1px solid orange; */
        /* width: 4rem; */
        /* height: 1.8rem; */
    }
    /* .move-right{
    transform: translateX(31px);
} */
    
</style>
<body style="font-family: myFont;">

    <header class=" md:fixed md:w-full shadow-lg bg-[#161718]">
        <nav class="px-4 py-1 max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center justify-center gap-2">
                <!-- <a href="/" class='text-3xl py-4 hover:text-orange-500 text-[#777777]'>Blogger<span class='text-orange-500 font-bold'>Plus</span></a> -->
                <a href="/" class='text-3xl py-4 font-bold text-orange-500 hover:text-white'>MeMoir</a>
               
                
            </div>


           
            
            <div
                class="nav-links backdrop-blur-2xl bg-white md:bg-transparent duration-500 md:static absolute md:h-auto h-96 left-0 top-[-80%] md:w-auto  w-full flex items-center px-5">
                <ul class="flex md:flex-row flex-col md:items-center md:gap-10 gap-8">
                    
                    <ul class="flex item-center justify-between">
                        
                        <!-- <a href="/" class='md:hidden absolute right-6 top-5 text-3xl  py-4 hover:text-orange-500'>Blogger<span class='text-orange-500 font-bold'>Plus</span></a> -->
                        <!-- <div class="md:hidden">
                            <input type="text" placeholder="Search..." class="bg-[#232525] w-36 px-2 py-2 rounded"/><i class="fa-solid fa-magnifying-glass relative text-md right-8 text-gray-400"></i>                  
                        </div> -->

                        {% if user.is_authenticated %}
                        <li class="mr-4 md:hidden ">
                            <!-- <a class="bg-orange-500 px-2 md:px-4 py-2  text-sm rounded hover:bg-opacity-80 transition-all duration-200 ease-in " href="{% url 'create_blog' %}">Create</a> -->
                            <a class="bg-orange-500 px-2 md:px-4 py-2 text-white  text-sm rounded hover:bg-opacity-80 transition-all duration-200 ease-in " href="{% url 'logout' %}">{{user}}, Logout</a>
                            <!-- <a href="{% url 'create_blog' %}" class="bg-orange-500  px-4 py-2 rounded mx-auto hover:bg-opacity-80 transition-all duration-200 ease-in">Create</a> -->
                            
                        </li>
                            
                        {% else %}
                        <li class="mr-4 md:hidden">
                            
                            <!-- <a class="bg-orange-500 px-2 md:px-4 py-2  text-sm rounded hover:bg-opacity-80 transition-all duration-200 ease-in " href="{% url 'create_blog' %}">Create</a> -->
                            
                            <a class="bg-orange-500 px-2 md:px-4 py-2 text-white  text-sm rounded hover:bg-opacity-80 transition-all duration-200 ease-in" href="{% url 'login' %}">Login</a>   
                            <a class="bg-orange-500 px-2 md:px-4 py-2 text-white  text-sm rounded hover:bg-opacity-80 transition-all duration-200 ease-in" href="{% url 'register' %}">Signup</a>
                        </li>
                        {% endif %}
                        
                    </ul>


                    <!-- <li>
                        <a class="font-semibold rounded   border-b-2 hover:border-orange-600 hover:shadow-sm px-1 py-1 transition-all mr-4 duration-200 ease-in " href="{% url 'blog' %}">Home</a>
                    </li> -->
                    <li>
                        <a class="text-[#777777] font-semibold rounded   border-b-2 hover:border-orange-600 hover:shadow-sm  px-1 py-1 transition-all mr-4 duration-200 ease-in " href="{% url 'about' %}">About</a>
                    </li>
                    <li>
                        <a class="text-[#777777] font-semibold rounded   border-b-2 hover:border-orange-600 hover:shadow-sm  px-1 py-1 transition-all mr-4 duration-200 ease-in " href="{% url 'premium' %}">Premium</a>
                    </li>
                    <li>
                        <a class="text-[#777777] font-semibold rounded   border-b-2 hover:border-orange-600 hover:shadow-sm  px-1 py-1 transition-all mr-4 duration-200 ease-in " href="{% url 'contact' %}">Contact Us</a>
                    </li>
                    <li>
                        <!-- <a class=" font-semibold rounded   border-b hover:border-orange-300 hover:shadow-sm  px-1 py-1 transition-all mr-4 duration-200 ease-in " href="{% url 'add_blog' %}">Donate</a> -->
                    </li>
                    
                    <!-- <li>
                        <a class="bg-orange-500 px-2 md:px-4 py-2  text-sm rounded hover:bg-opacity-80 transition-all duration-200 ease-in " href="{% url 'create_blog' %}">Create</a>
                    </li> -->


                        
                    
                    
                </ul>
            </div>
            <div class="flex items-center gap-6">
                <ion-icon onclick="onToggleMenu(this)" name="menu" class="text-4xl cursor-pointer  md:hidden" ></ion-icon>
            </div>

                

                <ul class="hidden md:flex">


                    {% if user.is_authenticated %}
                    <li class="mr-4">
                        <!-- <a class="bg-orange-500 px-2 md:px-4 py-2  text-sm rounded hover:bg-opacity-80 transition-all duration-200 ease-in " href="{% url 'add_blog' %}">Create</a> -->
                        <a href="{% url 'create_blog' %}" class="bg-orange-500 text-white  px-3 py-2 rounded mx-auto hover:bg-opacity-80 transition-all duration-200 ease-in">Write...</a>
                        <a class="bg-orange-500 px-2 md:px-4 py-2 text-white  text-sm rounded hover:bg-opacity-80 transition-all duration-200 ease-in " href="{% url 'logout' %}">{{user}}, Logout</a>

                    </li>
                        
                    {% else %}
                    <li>
                        <!-- <a class="bg-orange-500 px-2 md:px-4 py-2  text-sm rounded hover:bg-opacity-80 transition-all duration-200 ease-in " href="{% url 'create_blog' %}">Create</a> -->
                        <a class="bg-orange-500 px-2 md:px-4 py-2  text-sm text-white rounded hover:bg-opacity-80 transition-all duration-200 ease-in" href="{% url 'login' %}">Login</a>   
                        <a class="bg-orange-500 px-2 md:px-4 py-2  text-sm text-white rounded hover:bg-opacity-80 transition-all duration-200 ease-in" href="{% url 'register' %}">Signup</a>
                    </li>
                    {% endif %}
                    
                </ul>
                
        </nav>
        

        <div class="border-b border-gray-400 w-full border-t mt-4 mb-4 flex flex-col md:flex-row justify-around items-center text-sm">
            <div class=" flex  items-center py-4 pr-2 uppercase">
    
                <div class="flex justify-center items-start flex-wrap gap-2">
                    <a href="/" class="inline-block text-[#777777] hover:text-orange-500">All Blogs</a> <span class="text-gray-400 font-bold">|</span>
                    {% for category in categories %}
                        <a href="/?category={{category.id}}" class="inline-block text-[#777777] hover:text-orange-500">{{category.name}}</a>  <span class="text-gray-400 font-bold">|</span>
                    {% endfor %}
                </div>
            </div>

            <form action="/search/" method="get" class="pb-4 md:pb-0">
                <input type="text" name="search" placeholder="Search..." class="bg-[#232525] px-4 w-40 py-2 text-white  rounded focus:w-60 outline-none border-none transition-all duration-200 ease "/>          
                <button type="submit" class="px-4 py-2 bg-orange-500 rounded-lg text-white"><i class="fa-solid fa-magnifying-glass"></i></button>

            </form>
            
            <!-- <a href="#">See All</a> -->
        </div>
    </header>
 
            
            
            
           

    

    
    <div class="md:mx-24">
        <div id="blog" class="w-full md:pt-40 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2">
            {% if page_obj %}
            {% for blog in page_obj %}


                    <a href="{% url 'read_blog' blog.id %}" class="md:w-[555px] border-b-[0.8]  h-auto flex flex-row gap-2 px-4 my-4 ">
                        <div class="bg-[#161718] border-b rounded ">
                
                            <h1 class=" px-8 pt-4 text-[#777777]"> {{blog.category}}</h1>
                            <div class="flex justify-between gap-8 items-center px-8">
                                <div class="">
                                    <h1 class="text-lg text-[#EEEEEE] font-bold">{{blog.title | truncatewords:12}}</h1>
                                    <p class="text-sm py-2 text-[#777777]">{{blog.content | truncatewords:6}}</p>
                                </div>
                                <div class="object-cover flex items-center">
                                    <img src="{{blog.image.url}}" width="400" height="264" alt="">
                                </div>
                            </div>
                            
                            <h1 class="px-8 text-xs pb-4 text-[#777777]">{{blog.authors.username}} | {{blog.created_at}}</h1>
                
                        </div>
                    </a>
                
            

                

                {% endfor %}
                {% else %}

                <!-- <h1 class="px-6 py-4">No results found for: {{search_result}}</h1> -->
                {% endif %}

                
                
        </div>

    </div>
 
        
        <!-- <div id="blog" class="w-full">
            {% if page_obj %}
            {% for blog in page_obj %}


                    <a href="{% url 'read_blog' blog.id %}" class="w-[555px] border-b-[0.8]  h-auto flex flex-col gap-2 px-8 my-4 mx-20 ">
                        <div class="bg-[#161718] border-b rounded ">
                
                            <h1 class="px-8 pt-4 text-[#777777]"> {{blog.category}}</h1>
                            <div class="flex justify-between gap-8 items-center px-8">
                                <div class="">
                                    <h1 class="text-lg text-[#EEEEEE] font-bold">{{blog.title | truncatewords:6}}</h1>
                                    <p class="text-sm py-2 text-[#777777]">{{blog.content | truncatewords:6}}</p>
                                </div>
                                <div class="object-cover flex items-center">
                                    <img src="{{blog.image.url}}" width="400" height="264" alt="">
                                </div>
                            </div>
                            
                            <h1 class="px-8 text-xs pb-4 text-[#777777]">{{blog.authors.username}} | 10th June 2024</h1>
                
                        </div>
                    </a>
                
            

                

                {% endfor %}
                {% else %}

                <h1 class="px-6 py-4">No results found for: {{search_result}}</h1>
                {% endif %}

                
                
        </div> -->
    </div>

    <div class="m-10">
        <!-- {{search_result}} -->
        <span class="space-x-3 flex justify-between">
            {% if page_obj.has_previous %}
                {% if categoryID == None %}

                <!-- #edited this check this today!!!!! -->

                    <a href="{% if search_result %}?page={{page_obj.previous_page_number}}&search={{search_result}}{% else %}?page={{page_obj.previous_page_number}}{% endif %}" class="bg-orange-500 rounded px-2 py-2 text-white">&larr;Previous</a>
                {% else %}
                    <a href="{% if search_result %}?page={{page_obj.previous_page_number}}&category={{categoryID}}&search={{search_result}}{% else %}?page={{page_obj.previous_page_number}}&category={{categoryID}}{% endif %}"" class="bg-orange-500 rounded-xl px-2 py-2 text-white">&larr;Previous</a>
                {% endif %}
            {% endif %}

            {% if page_obj.has_next %}
                {% if categoryID == None %}
                    <a href="{% if search_result %}?page={{page_obj.next_page_number}}&search={{search_result}}{% else %}?page={{page_obj.next_page_number}}{% endif %}" class="bg-orange-500 rounded px-3 py-2 text-white">Next&rarr;</a>
                {% else %}
                    <a href="{% if search_result %}?page={{page_obj.next_page_number}}&category={{categoryID}}&search={{search_result}}{% else %}?page={{page_obj.next_page_number}}&category={{categoryID}}{% endif %}" class="bg-orange-500 rounded-xl px-3 py-2 text-white">Next&rarr;</a>
                {% endif %}
            {% endif %}
        </span>
    </div>

   

    {% include "common/footer.html" %}

</body>
</html>


